{% extends "main.twig" %}

{% block title %}{{'signup'|trans}}{% endblock %}
{% block content %}
	<div class="d-flex">
		{% if result != 0 and result != 1 %}
			<div class="card m-auto">
				<form method="post" accept-charset="utf-8" class="card-body">
					<fieldset>
						<legend>{{'auth.signup-to-reon'|trans}}</legend>
						<div class="mb-3">
							<label for="email" class="form-label">{{'email-addr'|trans}}</label>
							<input id="email" type="email" disabled class="form-control" value="{{ email|e }}">
						</div>
						<div class="mb-3">
							<label for="reonEmail" class="form-label">{{'auth.reon-email'|trans}}</label>
							<input id="reonEmail" type="text" name="reonEmail" required class="form-control{% if result == 2 %}{{ " is-invalid" }}{% endif %}" value="{{ reon_email|e }}">
							<div class="invalid-feedback">
								{{'auth.reon-email-invalid'|trans}}
							</div>
						</div>
						<div class="mb-3">
							<label for="password" class="form-label">{{'password'|trans}}</label>
							<input id="password" type="password" name="password" required class="form-control{% if result == 4 %}{{ " is-invalid" }}{% endif %}">
							<div class="invalid-feedback">
								{{'password-invalid'|trans}}
							</div>
						</div>
						<div class="mb-3">
							<label for="passwordConfirm" class="form-label">{{'confirm-password'|trans}}</label>
							<input id="passwordConfirm" type="password" name="passwordConfirm" required class="form-control{% if result == 3 %}{{ " is-invalid" }}{% endif %}">
							<div class="invalid-feedback">
								{{'passwords-dont-match'|trans}}
							</div>
						</div>
                        <div class="mb-3">
                            <label for="tradeRegions">{{ "account.trade-corner-region-allowlist"|trans }}</label>
                            
                            <small>
                            <details>
                                <summary>{{ "what-is-this"|trans }}</summary>
                                
                                <p>{{ "auth.region-explanation-para1"|trans }}</p>
                                <p>{{ "auth.region-explanation-para2"|trans }}</p>
                            </details>
                            </small>
                            
                            <select id="tradeRegions" name="tradeRegions" class="form-select">
                                <option value="e,f,d,s,i,p,u,j" {% if trade_regions == "e,f,d,s,i,p,u,j" %}selected{% endif %}>{{ "account.trade-option-1"|trans }}</option>
                                <option value="efdsipu,j" {% if trade_regions == "efdsipu,j" %}selected{% endif %}>{{ "account.trade-option-2"|trans }}</option>
                                <option value="efdsipuj" {% if trade_regions is not defined or trade_regions == "efdsipuj" %}selected{% endif %}>{{ "account.trade-option-3"|trans }}</option>
                            </select>
                        </div>
						<div class="mb-3">
							<label for="pokemonNewsCustomOptIn" class="form-label">{{ "account.pokemon-news-custom-opt-in"|trans }}</label>
							
							<small>
							<details>
								<summary>{{ "what-is-this"|trans }}</summary>
								<p>{{ "account.pokemon-news-custom-opt-in-blurb"|trans }}</p>
							</details>
							</small>
							
							<select id="pokemonNewsCustomOptIn" name="pokemonNewsCustomOptIn" class="form-select">
								<option value="0" {% if pokemon_news_custom_opt_in is not defined or pokemon_news_custom_opt_in == 0 %}selected{% endif %}>{{ "account.pokemon-news-custom-opt-in-off"|trans }}</option>
								<option value="1" {% if pokemon_news_custom_opt_in is defined and pokemon_news_custom_opt_in == 1 %}selected{% endif %}>{{ "account.pokemon-news-custom-opt-in-on"|trans }}</option>
							</select>
						</div>
						<button type="submit" class="btn btn-primary">{{'signup'|trans}}</button>
					</fieldset>
					<input type="hidden" name="id" value="{{ id|e }}" />
					<input type="hidden" name="key" value="{{ key|e }}" />
				</form>
			</div>
		{% elseif result == 0 %}
			<div class="alert alert-success m-auto">
				{{'auth.registration-complete'|trans}}
			</div>
		{% elseif result == 1 %}
			<div class="alert alert-danger m-auto">
				{{'link-invalid-expired'|trans}}
			</div>
		{% endif %}
	</div>
{% endblock %}
