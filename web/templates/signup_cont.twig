{% extends "main.twig" %}

{% block title %}Signup{% endblock %}
{% block content %}
	<div class="d-flex">
		{% if result != 0 and result != 1 %}
			<div class="card m-auto">
				<form method="post" accept-charset="utf-8" class="card-body">
					<fieldset>
						<legend>Sign-up to REON</legend>
						<div class="mb-3">
							<label for="email" class="form-label">Email address</label>
							<input id="email" type="email" disabled class="form-control" value="{{ email|e }}">
						</div>
						<div class="mb-3">
							<label for="reonEmail" class="form-label">REON email address</label>
							<input id="reonEmail" type="text" name="reonEmail" required class="form-control{% if result == 2 %}{{ " is-invalid" }}{% endif %}" value="{{ reon_email|e }}">
							<div class="invalid-feedback">
								REON email invalid or taken
							</div>
						</div>
						<div class="mb-3">
							<label for="password" class="form-label">Password</label>
							<input id="password" type="password" name="password" required class="form-control{% if result == 4 %}{{ " is-invalid" }}{% endif %}">
							<div class="invalid-feedback">
								Password invalid
							</div>
						</div>
						<div class="mb-3">
							<label for="passwordConfirm" class="form-label">Confirm password</label>
							<input id="passwordConfirm" type="password" name="passwordConfirm" required class="form-control{% if result == 3 %}{{ " is-invalid" }}{% endif %}">
							<div class="invalid-feedback">
								The passwords don't match
							</div>
						</div>
						<button type="submit" class="btn btn-primary">Sign-up</button>
					</fieldset>
					<input type="hidden" name="id" value="{{ id|e }}" />
					<input type="hidden" name="key" value="{{ key|e }}" />
				</form>
			</div>
		{% elseif result == 0 %}
			<div class="alert alert-success m-auto">
				Your registration is complete.
			</div>
		{% elseif result == 1 %}
			<div class="alert alert-danger m-auto">
				This link is invalid or has expired.
			</div>
		{% endif %}
	</div>
{% endblock %}