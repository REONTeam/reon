{% extends "main.twig" %}

{% block title %}Pokémon - Rankings{% endblock %}
{% block content %}
	<ul id="country-nav">
        <li><a href="?country=global">{{'region.global'|trans}}</a></li>
        <li><a href="?country=j">{{'region.country.j'|trans}}</a></li>
        <li><a href="?country=e">{{'region.country.e'|trans}}</a></li>
        <li><a href="?country=f">{{'region.country.f'|trans}}</a></li>
        <li><a href="?country=i">{{'region.country.i'|trans}}</a></li>
        <li><a href="?country=s">{{'region.country.s'|trans}}</a></li>
        <li><a href="?country=d">{{'region.country.d'|trans}}</a></li>
        <li><a href="?country=u">{{'region.country.u'|trans}}</a></li>
        <li><a href="?country=p">{{'region.country.p'|trans}}</a></li>
    </ul>

    {% set _country = selected_country|default('global') %}
    <ul id="pokemon-news-mode-nav">
        <li><a href="?country={{_country}}"{% if pokemon_news_custom|default(0) == 0 %} class="active"{% endif %}>Vanilla</a></li>
        <li><a href="?country={{_country}}&pokemon_news_custom=1"{% if pokemon_news_custom|default(0) == 1 %} class="active"{% endif %}>Custom Pokémon News</a></li>
    </ul>

    {% for cat in categories %}
    <div class="crystal-ranking">
        <table>
            <thead>
                <tr class="ranking-name"><th colspan="3">{{cat.name}}</th></tr>
                <tr>
                    <th>{{'name'|trans}}</th>
                    <th>{{'region.text'|trans}}</th>
                    <th>{{'score'|trans}}</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in cat.entries %}
                <tr>
                    <td>{{entry.player_name}}</td>
                    {% set p_region_tmpl = 'pokemon.prefectures.'~entry.player_region %}
                    <td title="{{p_region_tmpl|trans}}">{{entry.player_region}}</td>
                    <td>{{entry.score}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endfor %}
{% endblock %}
